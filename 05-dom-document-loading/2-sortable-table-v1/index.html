<!doctype html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div>
  <div>
    <select id="field">
      <option selected value="title">title</option>
      <option value="quantity">quantity</option>
      <option value="price">price</option>
      <option value="sales">sales</option>
    </select>
  </div>
  <div>
    <select id="order">
      <option selected value="asc">asc</option>
      <option value="desc">desc</option>
    </select>
  </div>

  <button id="sort">Sort</button>
</div>

<div id="root"></div>

<script type="module">
  import SortableTable from './index.js';
  import data from './products-data.js';

  const headerConfig = [
    {
      id: 'images',
      title: 'Image',
      sortable: false,
      template: (data = []) => {
        return `
          <div class="sortable-table__cell">
            <img class="sortable-table-image" alt="Image" src="${data[0]?.url || 'https://via.placeholder.com/32'}">
          </div>
        `;
      }
    },
    {
      id: 'title',
      title: 'Name',
      sortable: true,
      sortType: 'string'
    },
    {
      id: 'quantity',
      title: 'Quantity',
      sortable: true,
      sortType: 'number'
    },
    {
      id: 'price',
      title: 'Price',
      sortable: true,
      sortType: 'number'
    },
    {
      id: 'sales',
      title: 'Sales',
      sortable: true,
      sortType: 'number'
    },
  ];

  const sortableTable = new SortableTable([
    {
      id: 'title',
      title: 'Name',
      sortable: true,
      sortType: 'string'
    },
    {
      id: 'price',
      title: 'Price',
      sortable: true,
      sortType: 'number'
    },
    {
      id: 'sales',
      title: 'Sales',
      sortable: true,
      sortType: 'number'
    },
  ], {data: [
      {
        'id': 'soska-(pustyshka)-nuk-10729357',
        'title': 'Соска (пустышка) NUK 10729357',
        'price': 3,
        'sales': 14
      },
      {
        'id': 'tv-tyuner-d-color--dc1301hd',
        'title': 'ТВ тюнер D-COLOR  DC1301HD',
        'price': 15,
        'sales': 13
      },
      {
        'id': 'detskiy-velosiped-lexus-trike-racer-trike',
        'title': 'Детский велосипед Lexus Trike Racer Trike',
        'price': 53,
        'sales': 11
      },
      {
        'id': 'soska-(pustyshka)-philips-scf182/12',
        'title': 'Соска (пустышка) Philips SCF182/12',
        'price': 9,
        'sales': 11
      },
      {
        'id': 'powerbank-akkumulyator-hiper-sp20000',
        'title': 'Powerbank аккумулятор Hiper SP20000',
        'price': 30,
        'sales': 11
      },
    ]});

  root.append(sortableTable.element);

  sort.addEventListener('click', () => {
    const fieldValue = field.value;
    const orderValue = order.value;

    sortableTable.sort(fieldValue, orderValue);
  });
</script>
</body>
